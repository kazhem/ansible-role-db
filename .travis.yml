language: python
python:
- '3.6'
install:
- pip install ansible==2.9.7 'molecule[gce]<3' apache-libcloud
script:
- ls -la
- molecule test --scenario-name gce
after_script:
- molecule destroy --scenario-name gce
before_install:
- openssl aes-256-cbc -K $encrypted_3b9f0b9d36d1_key -iv $encrypted_3b9f0b9d36d1_iv
  -in secrets.tar.enc -out secrets.tar -d
- tar xvf secrets.tar
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
env:
  global:
  - USER=travis
  - secure: QF9mTztkANCvp+Ub8DE7q57mcmjt/doNVC+M7EsWNEtIpJ+Y0cvFsvwhb69GAi20uUqdtg4yVG9h1qqkRyjk07IzA8ydO5k9rjIS+hB3jbajr6PjMt+1Tqnbj/Ba9JOYq4zOA5faezP99Mgp7d7Cu8zxoQVpryzMPKMre82qrdLWJ6EN9vTS6Eq9sCeHeu9LxnYakBrd5usO35QjMjriyoXgT3JRZzH2DNJp3s9DrZEZicUygSlqd0UqmmOUKmjD4eLTKLG83lnG518hlgLeln9gdQD+fDhY2mhx9/beBluqSGCBaAk6A2l8jnNzFIRZv5rjj3nMkBp9g9WjEChcVZx6unAJNXgd3Pr/LuTd2gBx1lG8wJvawRJC2AEVyIp18HfRVO/qidjXvo4aU4wgVMLh9eA9yQRU7f0c8vxAeEbsqoQPt5bOEiGOG7kH3PzbGUVHeqzgrysEoaXCmHp21DggvVxSx8u6Qlw19usFAWjCdudfCb16YW6duadoh6F4Zk1SS6nxPRTtTbomTJytU56V3djDkwi3tfu7ZoK2fHMqpdfeALO3I5kRic1zqrUR1sxK1/2lHoOtfmd+wkJYdOq9scS3JtSkzZms6yj1nnk4ZKddqgLSFK/lr+bBQ60JTwj23UkI0pGKd/KFqCvrkfnfg26cjZQvl5aIq1FaVQY=
  - secure: jPJcqn5l5l8Xg0k03qbtSL2sNre4N9naJKyD4GLtOa3+bLB5N8S0+UMY9ZHjSzL+fwIEbyrBTyt/YWJ+YOzyRFbvR0HT6N1BbCENF1Wm2zI75aIE+KStbwIKYQ/TvKakFedSp1917lqADIm9HMqjQ273ieQVCNR7dnEKhPcrqF+26MZYHX8Tcy/EI9CGjyRE+2KzNPLnu2icaTtCrKKifrvf4GuYJsuXyV3+o04qtX4wJNdfJlmsCDawDiXvFD/cezmkaT8w0Wr8KBKDZ/cRFWWYZpNGJKWtlRVU1+fnog1YwMYkyhUKRnxaIaa5aapXVZzJz69orXn86e79WQNQJcvTagsEvxI4irt1Gll8qCamcL3XK9zysrkie0hK7+Ns0/9PnTvow/LQrBdbbVFy8sfV54tX1fiZUYcy90c7A/oVfJPpaasOTxdvXltU5hirOZMp0v35m2v64U1dpFQzwMuot3QH5iK5oIzKwIFPlFO71yzxSG7r7QMQeEpLwj2CxxRHpoBqraprnE8kXNC7JUfod+oRqBKhC0GICUNpoLIFb0Y1miseRnXnZzMKydCI0SUohw11oQcoFih9rtSydSTX0yDSZ19UTgPVkPUVK/yScxFinQPgfxzgfhhS8SYH6xl/SotZsgy4QX6Uu2uPea++EIGgrE5oq3e8d06mjUs=
  - secure: sIpO+tJqXnRDXsRhd/R3myd36lvGXp9W8dlCwdnbGkMDegrHzP4esane1QRFnzy3XuFbeziaMmp7Hgwni3HIi5h+zcE9xyfyGLnl/j70c9uAzCFxVFW37TGJltcJmvzvQR512WEsgPoks1TEhipQKOKjDhj+cwpsT2qA9x5+VSSDlbQbL6N+p/JDEGRyh0uk/KzUYPHNasRCtY8Dvg/oIUoFRmJCdIOn2NtzrwXtrIXH6W8skWeUx4l/oEhvc5Cp3AwKVq41KsB13qCLIbbsBUc9gWxZ4E/DZQ3Fz7mwRRiJPDGaJmolHtaFaZxyNlmP9Rk0qbP2owXWow4vcR9EQE4odG75+gcEaEOldl0z7skyCGodIftaW1OcQprQHwO2QmQiIigBXsAgeqz94sme0036UfUKvsSO4aHb/cohaxX15KeqBqtvPdVgLbLyOJWU34lvH9sUyGGXjT60q1sTQKKMcybwkw2bFqTTqPfyLJu1Dr1YcdcaWe7u3fxsMeBJAr21obg/pgqcFNjjFOFOqr/MXdKaxtg4N3vNMZ4eI3FAZeEii2TqHfOBWsLubQhFpCv0JhBnGqxoeuR4pgGPkQjKho0pLWZVAWzbwBt8u24OzMSCubcPe1SwKkIkR+UYzLiVH3WliF9FtR56THtO1D6bantUDPjN5JZymmlqkUY=
